<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <script>
        /*
            배열 순회

            반복문
                for ~ in
                for ~ of (ver.ES6)

                형식:
                    for(let idx in 객체) {
                        // arr 요소 만큼 반복
                    }

                    for(let val of iterable) {
                        // arr 요소 만큼 반복
                    }

            iterable(이터러블)
                -> 반복 가능 객체
                -> 배열, 문자열, 컬렉션(Set, Map)
            
            메서드
                forEach(함수);
                map()
                filter()

        */

        const city = ['서울', '대구', '대전', '부산'];

        for (let idx in city) {
            console.log(idx); // 0 1 2 3 -> 배열의 index번호
            console.log(city[idx]); // 서울 대구 대전 부산 -> 배열의 값
        }
        for (let val of city) {
            console.log(val); // 서울 대구 대전 부산 -> 배열의 값
        }

        const person = {
            name: '홍길동',
            age: 20,
            isBig: false,
            printOut: () => {
                // 화살표 함수를 사용하면 this는 window이다.
                console.log(this);
                console.log(`나는 ${person.name}입니다.`);
            },
            printOut2: function () {
                // this는 person이다.
                console.log(this);
                console.log(`나는 ${this.name}입니다.`);
            }
        };
        person.printOut();
        person.printOut2();

        for (let i in person) {
            console.log(i); // i는 객체의 속성명
            console.log(person[i]); // i는 객체의 속성명
        }

        // person는 iterable이 아니다.
        /* for (let i of person) { // Uncaught TypeError: person is not iterable
            console.log(i); // i는 객체의 속성명
            console.log(person[i]); // i는 객체의 속성명
        } */

        const str = 'script';
        for (let i of str) {
            console.log(i); // s c r i p t
        }

        console.log('====== forEach =====');
        // forEach(function(val, [idx], [arr]){})
        const nums = [4, 5, 6];
        nums.forEach(function (value, index, array) {
            console.log(value);
            console.log(index);
            console.log(array);
        });


        console.log('===== forEach: sum =====')
        let sum = 0;

        nums.forEach(function (value, index) {
            // sum = sum + value
            // 0 + 4 -> sum = 4
            // 4 + 5 -> sum = 9
            // 9 + 6 -> sum = 15
            return sum += value;
        });
        console.log('sum=' + sum); // 15

        console.log('===== map =====')
        /* 
            map()
                기존 배열을 이용하여 새로운 배열을 만든다.
        */
        const base = [10, 20, 30];
        base.map(function (value, index, array) {
            console.log(value);
            console.log(index);
            console.log(array);
        });

        console.log('===== map2 =====');
        let area = base.map(function (value, index) {
            return index * 4;
        });
        console.log(area);

        console.log('===== forEach2 =====');
        area = base.forEach(function (value) {
            return value * 8;
        });
        console.log(area);

        /* 
            filter()
                조건에 맞는 배열 요소들만 새로운 배열로 만들어준다.
        */
        console.log('===== filter =====');
        const data = ['javascript', 20, 30, 'jquery'];
        data.filter(function (value, index, array) {
            console.log(value);
            console.log(index);
            console.log(array);
        });

        console.log('===== filter2 =====');
        const num = data.filter(function (value) {
            // data의 배열 값 중 number 데이터만 num 변수의 배열로 만들어 준다.
            return typeof value === 'number';
        });
        console.log(num); // (2) [20, 30]

    </script>
</body>

</html>